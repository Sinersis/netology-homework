# Домашнее задание по лекции «Компоненты Kubernetes»

---

### Задание. Необходимо определить требуемые ресурсы


1. Для сборки и установки чартов нам понадобится система контроля версий и настроенный CI\CD
2. База данных:

   Общее количество требуемых ресурсов: 12 ГБ Озу и 3 ядра.

   Нам понадобиться кластер из 3‑х нод, в идеальном мире если мы пользуемся облаками я бы взял решение от провайдера, 
   кластер из трех машин с конкретным количеством ресурсов под каждую из баз 4 Гб ОЗУ и 1 ядро.

   Если разворачиваем на своем решении K8S, я бы исходил из того что каждая база лежит на отдельной ноде, чтобы не
   было истории когда нода легла и легло все, из чего следует что ноды в K8S будет минимум 3.
3. Система кеширования:

   Общее количество требуемых ресурсов: 12 ГБ Озу и 3 ядра.

   В целом пути развития точно такие-же если есть возможность то берем облачное решения для хранения кеша 
   (Redis например), если используем свое решение K8S то поступает точно так же как и с базами данных, можно держать 
   все на тех же трех нодах.
4. Фронтенд:

   Общее количество требуемых ресурсов: 250 МБ Озу и 1 ядро

   Можно держать все на одной ноде, но нужна страховочная которая сможет в случае отказа первой забрать нагрузку на себя.
   Добавляем еще 2 ноды.
5. Бекенд:

   Общее количество требуемых ресурсов: 6 ГБ Озу и 10 ядер

   Тут я бы взял 2 ноды для запуска и 2 ноды для подстраховки, причины такие же как у фронта чтобы были 
   ноды которые могут принять на себя нагрузку.

Итого:

Как просят сделать:

- Мастер-ноды: 3 шт. , без возможности на них деплоя, для обеспечения максимальной стабильности и отказоустойчивости
- Дочерние-ноды 8 шт. , суммарная мощность 48 Гб ОЗУ и 32 ядра, т.е. 6 Гб ОЗУ и 4 ядра каждая, такого количества 
  ресурсов хватить с запасом

Как надо делать по хорошему:

- Мастер-ноды: 3 шт. , без возможности на них деплоя, для обеспечения максимальной стабильности и отказоустойчивости
- Базы данных и кеш ноды: 3 шт. 8 Гб Озу и 2 ядра на каждой, для размещения по одному экземпляру БД и кеша
- Фронтенд-ноды: 2 шт. 250 МБ Озу и 1 ядро на каждой, Одна основная вторая под страховочная.
- Бекенд-ноды: 4 шт. 3 ГБ Озу и 5 ядер на каждой, 2 основные и 2 под страховочные.
